(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-783962eb"],{"2d3b":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"searchView"},[r("div",{staticClass:"searchTopNav"},[r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.$router.go(-1)}}},[r("use",{attrs:{"xlink:href":"#icon-fanhui"}})]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.keyWord,expression:"keyWord"}],attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.keyWord},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveKeyWord.apply(null,arguments)},input:function(t){t.target.composing||(e.keyWord=t.target.value)}}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.searchSongList.length,expression:"searchSongList.length==0"}],staticClass:"history"},[r("span",[e._v("历史")]),r("ul",e._l(e.keyWordList,(function(t,s){return r("li",{key:s,ref:"historySearch",refInFor:!0,on:{click:e.historySearch}},[e._v(e._s(t))])})),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.searchSongList.length,expression:"searchSongList.length!==0"}],staticClass:"playList"},[r("div",{staticClass:"playListTop"},[r("div",{staticClass:"left"},[r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-bofang"}})]),r("span",{staticClass:"playAll"},[e._v("播放全部")]),r("span",{staticClass:"allCount"},[e._v("(共"+e._s(e.searchSongList.length)+"首)")])])]),r("div",{staticClass:"songList"},e._l(e.searchSongList,(function(t,s){return r("div",{key:t.id,staticClass:"songItem"},[r("div",{staticClass:"left"},[r("div",{staticClass:"number"},[e._v(e._s(s+1))]),r("div",{staticClass:"song",on:{click:function(r){return e.searchPlay(t)}}},[r("div",{staticClass:"songName"},[e._v(e._s(t.name))]),r("div",{staticClass:"songDetail"},[e._l(t.ar,(function(s,n){return r("span",{key:n},[e._v(" "+e._s(s.name)+" "),n<t.ar.length-1?r("span",[e._v("/")]):e._e()])})),e._v(" - "+e._s(t.al.name)+" ")],2)])]),r("div",{staticClass:"right"},[r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-caozuo-bofang"}})]),r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-androidgengduo"}})])])])})),0)]),r("playController")],1)},n=[],a=r("1da1"),i=(r("96cf"),r("498a"),r("fb6a"),r("a434"),r("cf92")),o={components:{playController:i["a"]},data:function(){return{placeholder:"林俊杰",keyWord:"",keyWordList:[],searchSongList:[]}},methods:{saveKeyWord:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.keyWord.trim()){t.next=8;break}return t.next=3,e.$http.get("cloudsearch?keywords= ".concat(e.keyWord));case 3:r=t.sent,console.log(r),e.searchSongList=r.data.result.songs,"-1"==e.keyWordList.indexOf(e.keyWord)?(e.keyWordList.unshift(e.keyWord),e.keyWordList.length>10&&(e.keyWordList=e.keyWordList.slice(0,10)),window.localStorage.keyWordList=JSON.stringify(e.keyWordList)):(e.keyWordList.splice(e.keyWordList.indexOf(e.keyWord),1),e.keyWordList.unshift(e.keyWord),e.keyWordList.length>10&&(e.keyWordList=e.keyWordList.slice(0,10)),window.localStorage.keyWordList=JSON.stringify(e.keyWordList)),e.keyWord="";case 8:case"end":return t.stop()}}),t)})))()},historySearch:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.target.innerText,r.next=3,t.$http.get("cloudsearch?keywords= ".concat(s));case 3:n=r.sent,t.searchSongList=n.data.result.songs;case 5:case"end":return r.stop()}}),r)})))()},searchPlay:function(e){this.$store.commit("pushPlayList",e),this.$store.commit("setPlayIndex",this.$store.state.playlist.length-1)}},beforeMount:function(){this.keyWordList=window.localStorage.keyWordList?JSON.parse(window.localStorage.keyWordList):[]}},c=o,l=(r("ddea"),r("2877")),d=Object(l["a"])(c,s,n,!1,null,"aaa463ec",null);t["default"]=d.exports},"498a":function(e,t,r){"use strict";var s=r("23e7"),n=r("58a8").trim,a=r("c8d2");s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return n(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var s=r("1d80"),n=r("577e"),a=r("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),l=function(e){return function(t){var r=n(s(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"6b2b":function(e,t,r){},a434:function(e,t,r){"use strict";var s=r("23e7"),n=r("23cb"),a=r("5926"),i=r("07fa"),o=r("7b0b"),c=r("65f0"),l=r("8418"),d=r("1dde"),u=d("splice"),h=Math.max,f=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var r,s,d,u,p,v,k=o(this),m=i(k),W=n(e,m),w=arguments.length;if(0===w?r=s=0:1===w?(r=0,s=m-W):(r=w-2,s=f(h(a(t),0),m-W)),m+r-s>y)throw TypeError(g);for(d=c(k,s),u=0;u<s;u++)p=W+u,p in k&&l(d,u,k[p]);if(d.length=s,r<s){for(u=W;u<m-s;u++)p=u+s,v=u+r,p in k?k[v]=k[p]:delete k[v];for(u=m;u>m-s+r;u--)delete k[u-1]}else if(r>s)for(u=m-s;u>W;u--)p=u+s-1,v=u+r-1,p in k?k[v]=k[p]:delete k[v];for(u=0;u<r;u++)k[u+W]=arguments[u+2];return k.length=m-s+r,d}})},c8d2:function(e,t,r){var s=r("5e77").PROPER,n=r("d039"),a=r("5899"),i="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||i[e]()!==i||s&&a[e].name!==e}))}},ddea:function(e,t,r){"use strict";r("6b2b")}}]);
//# sourceMappingURL=chunk-783962eb.eb3e732c.js.map